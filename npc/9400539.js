var 爱心 = "#fEffect/CharacterEff/1022223/4/0#";
var add = "#fEffect/CharacterEff/1112903/0/0#";//红桃心
var aaa = "#fUI/UIWindow.img/Quest/icon9/0#";//红色右箭头
var zzz = "#fUI/UIWindow.img/Quest/icon8/0#";//蓝色右箭头
var sss = "#fUI/UIWindow.img/UserList/Guild/Make/BtAgree/mouseOver/0#";//
var sss1 = "#fUI/UIWindow.img/QuestIcon/3/0#";//选择道具

var 正方箭头 = "#fUI/Basic/BtHide3/mouseOver/0#";
var 感叹号 = "#fUI/UIWindow/Quest/icon0#";
var 美化new = "#fUI/UIWindow/Quest/icon5/1#";
var 红色箭头 = "#fEffect/CharacterEff/1112908/0/1#";  //彩光3
var ttt1 = "#fEffect/CharacterEff/1062114/1/0#";  //爱心
var 蓝色角点 = "#fUI/UIWindow.img/PvP/Scroll/enabled/next2#";
var ca = java.util.Calendar.getInstance();
var year = ca.get(java.util.Calendar.YEAR); //获得年份
var month = ca.get(java.util.Calendar.MONTH) + 1; //获得月份
var day = ca.get(java.util.Calendar.DATE);//获取日
var hour = ca.get(java.util.Calendar.HOUR_OF_DAY); //获得小时
var minute = ca.get(java.util.Calendar.MINUTE);//获得分钟
var second = ca.get(java.util.Calendar.SECOND); //获得秒
var weekday = ca.get(java.util.Calendar.DAY_OF_WEEK)-1;//获得星期
var 正方箭头 = "#fUI/Basic/BtHide3/mouseOver/0#";
var 爱心 = "#fEffect/CharacterEff/1022223/4/0#";

var 粉爱心 = "#fItem/Etc/0427/04270005/Icon8/1#";  //
var 菊花 = "#fUI/PredictHarmony/card/19#";//卡片效果菊花
var 笑 = "#fUI/GuildBBS/GuildBBS/Emoticon/Basic/0#";//笑脸
var 金枫叶 ="#fMap/MapHelper/weather/maple/2#";
var 红枫叶 ="#fMap/MapHelper/weather/maple/1#";
var 巫女 ="#fMap/MapHelper/weather/witch/0#";//巫女
var 气球 ="#fMap/MapHelper/weather/balloon/4#";//气球
var 射箭 ="#fMap/MapHelper/weather/LoveEffect2/4/0#";//射箭
var 玫瑰 ="#fMap/MapHelper/weather/rose/0#";//玫瑰花
var 烟花 ="#fMap/MapHelper/weather/squib/squib1/3#";//烟花

var 大粉红爱心 = "#fItem/Etc/0427/04270001/Icon8/4#";  //
var 小粉红爱心 = "#fItem/Etc/0427/04270001/Icon8/5#";  //
var 小黄星 = "#fItem/Etc/0427/04270001/Icon9/0#";  //
var 大黄星 = "#fItem/Etc/0427/04270001/Icon9/1#";  //
var 小水滴 = "#fItem/Etc/0427/04270001/Icon10/5#";  //
var 大水滴 = "#fItem/Etc/0427/04270001/Icon10/4#";  //
var tz = "#fEffect/CharacterEff/1082565/4/0#";  //粉兔子
var tz1 = "#fEffect/CharacterEff/1082565/0/0#";  //橙兔子
var tz2 = "#fEffect/CharacterEff/1082565/2/0#";  //蓝兔子
var 邪恶小兔 = "#fEffect/CharacterEff/1112960/3/0#";  //邪恶小兔 【小】
var 邪恶小兔2 = "#fEffect/CharacterEff/1112960/3/1#";  //邪恶小兔 【大】
var 花草 ="#fEffect/SetEff/208/effect/walk2/4#";
var 花草1 ="#fEffect/SetEff/208/effect/walk2/3#";
var 小花 ="#fMap/MapHelper/weather/birthday/2#";
var 桃花 ="#fMap/MapHelper/weather/rose/4#";
var 银杏叶 ="#fMap/MapHelper/weather/maple/3#";
var 小烟花 ="#fMap/MapHelper/weather/squib/squib4/1#";
var 星星 ="#fMap/MapHelper/weather/witch/3#";
var 星星2 = "#fEffect/CharacterEff/1114000/2/0#";
var 副本 = Array("玩具玩具","海盗副本","玩具3","玩具4","玩具5","玩具6","玩具7")
var 星期 = Array("一","二","三","四","五","六","天")
var 蓝色箭头 = "#fUI/UIWindow/Quest/icon2/7#";


var 任务 = "#fUI/UIWindow.img/Quest/summary#";//
var 奖励 = "#fUI/UIWindow.img/Quest/reward#";//
var 机率获得 = "#fUI/UIWindow.img/Quest/prob#";//
var 经验值 = "#fUI/UIWindow.img/QuestIcon/8/0#";//
var 金币 = "#fUI/UIWindow.img/QuestIcon/7/0#";//
var 黑箱子 = "#fUI/UIWindow.img/QuestIcon/5/0#";//
var 获取 = "#fUI/UIWindow.img/QuestIcon/4/0#";//
var 等级 
var 获得经验;
var 获得金钱;
var 等级阶段;
var 材料 =[4000000,4000016,4000019,4000001,4000002,4000003,4000004,4000005,4000037,4000006,4000187,4000188,4000252,4000253,4000350,4000189,4000190,4000008,4000010,4000012,4000015,4000032,4000008,4000035,4000042,4000300,4000286,4000287,4000059,4000088,4000172,4000106,4000107,4000108,4000367,4000369,4000111,4000128,4000118,4000291,4000292,4000471,4000293,4000112,4000294,4000295,4000157,4000296,4000297,4000351,4000361,4000431,4000432,4000434,4000444,4000445,4000194,4000181,4000431,4000279,4000447,4000448,4000179,4000182,4000232,4000233,4000234,4000238,4000240,4000241,4000242,4000270,4000273,];






function start() {
    status = -1;
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == 1) {
        status++;
    } else {
        status--;
    }
    if (status == 0) {
/*         var
        text = ttt1+"脚本标题\r\n";
        text += sss+tz1+tz2+add+爱心+"#L1#进入选项1\r\n";
		text +=  "\r\n";
        cm.sendNext(text) */;
		var
		text =  "#e#r  - 每日任务\r\n\r\n#n#k"
		text += "冒险路很长，适当停下脚步来完成一些有意义的事，比如来我这里完成每日打工任务，每一阶段都有超高经验奖励\r\n"
		text +="每完成一次 #r12#k 阶段还能获得 #r1#k 点劳动值\r\n"
		text +="劳动值可以兑换非常稀有道具，记得每天都要来完成哦\r\n"
		text +="#b#L1#"+邪恶小兔+"#e开始每日任务#n#l#L2#"+小粉红爱心+"摘取粉红花#l#L3#"+小粉红爱心+"获取工资币#l\r\n"
		text +="#b#L4#"+小粉红爱心+"每日任务经验奖励介绍#l#L5#"+小粉红爱心+"劳动值稀有道具介绍#l\r\n"
		text +="#b#L6#"+小粉红爱心+"劳动值兑换稀有道具/目前拥有：#r"+"0"+"#b 点#l\r\n"
		text +="#b#L7#"+小黄星+"#r刷新任务 1 - 10 阶 （每次消耗200抵用卷）#l\r\n"
		text +="#b#L8#"+小黄星+"#r刷新任务 1 - 10 阶 （每次消耗3个劳动勋章）#l\r\n"
		text +="#b#L9#"+小黄星+"#r刷新任务11 - 12 阶 （每次消耗1个传说币(稀有)）#l\r\n"
		cm.sendNext(text);
    } else if (selection == 1) {
		初始化();
        var chaxun = cm.打工查询();
		var 打工物品;
		var 数量;
		var 次数;
		if (chaxun[4] != day ){
			打工物品 = 材料[取随机数(1,材料.length -1)];
			数量 = 取随机数(255,400);
			cm.打工修改(1,打工物品,数量)
		} 
		   chaxun = cm.打工查询();
		if (chaxun[2] > 15 ){
			cm.sendOk("今日打工已经完成！");
			cm.对话结束();
			}else{
				打工物品 = chaxun[0];
				数量 = chaxun[1];
				次数 = chaxun[2];
				
				var te = 任务+"\r\n"
				te += "当前打工阶段为 #r"+ 次数+"#k 阶段\r\n"
					if(次数<=10){
					te += "你需要搜集以下道具给我\r\n"	
					te += "#v"+打工物品+"#"+"#z"+打工物品+"#"+"     "+数量+" / "+cm.getPlayer().getItemQuantity(打工物品, false)+"\r\n"
					}else if(次数<=12 && 次数>=1){
					te += "攻击力或者魔力 #r"+数量+" #k以上的 #b#v"+打工物品+"#"+"#z"+打工物品+"#"+"#n#k\r\n"
					te += "提交任务请把道具放在装备栏第一格\r\n"
					te += "武器可在玩家交易、自由市场兑换、钓鱼、野外打怪获得\r\n"
					}else if(次数<=15 && 次数>=13){
					te += "攻击力或者魔力 #r"+数量+" #k以上的 #b#v"+打工物品+"#"+"#z"+打工物品+"#"+"#n#k\r\n"
					te += "提交任务请八道具放在装备栏第一格\r\n"
					te += "武器可在玩家交易、自由市场兑换、钓鱼、野外打怪获得\r\n"
					}else{
					cm.sendOk("今日打工已经完成！");
					cm.对话结束();
					}
					te += "\r\n\r\n"
					if(次数>等级阶段){
					te += 奖励+"         #e#r当前阶段已经超过自身等级！！！#b\r\n\r\n"
					}else{
					te += 奖励+"\r\n\r\n"
					}
					if(等级>100){
					te += 经验值+"  #e#r100级以上经验Up↑↑  #n#k--> "+获得经验+"\r\n"
					te += 金币+"    #e#r100级以上金币Up↑↑  #n#k--> "+获得金钱+"\r\n"
					}else{
					te += 经验值+"#n#k  "+获得经验+"\r\n"
					te += 金币+"#n#k   "+获得金钱+"\r\n"
					}
					if(次数==4 || 次数==8 || 次数==12 ){
					te += "#v4001266##z4001266# x 1\r\n"
					}
					if(次数>等级阶段){
					//te += "当前阶段已经超过自身等级，升级之后继续完成！！！"
					cm.sendSimpleS(te,2);
					cm.对话结束()
					}else{
					cm.sendSimpleS(te,2);
					}
			}
			

		
		
    } else if (selection == 2) {
		cm.消息(5,day)
		
		
		
		
        var text2 = "选项1脚本标题\r\n";
        text2 += "#L3#进入选项3\r\n";
		
		cm.sendNext(text2);
    } else if (selection == 3) {

    } else if (selection == 4) {

    } else if (selection == 5) {

    } else if (selection == 6) {

    } else if (selection == 7) {
		var chaxun = cm.打工查询();
		var 打工物品;
		var 数量;
		var 次数;
		if (chaxun[4] != day ){
			cm.sendOk("今天还没有接取任务！");
			cm.对话结束();
		if (chaxun[2] > 15 ){
			cm.sendOk("今日打工已经完成！无需刷新");
			cm.对话结束();
		}else{
			chaxun = cm.打工查询();
			//这里要重新刷新
			cm.sendOk("");
			cm.对话结束();
		}
		}
    } else if (selection == 8) {

    } else if (selection == -1) {
		chaxun = cm.打工查询();
		打工物品 = chaxun[0];
		数量 = chaxun[1];
		次数 = chaxun[2];
		//cm.消息(5,打工物品+"任务完成"+数量);
	if (cm.判断物品(打工物品,数量)){
		cm.给物品(打工物品,-数量)
		打工物品 = 材料[取随机数(1,材料.length -1)];
		//cm.消息(5,材料.length);
		数量 = 取随机数(255,400);
		cm.打工修改(次数+1,打工物品,数量)
		cm.消息(5,"任务完成");
		cm.给经验(获得经验);
		cm.gainMeso(获得金钱);
		if(次数==4 || 次数==8 || 次数==12){
		cm.给物品(4001266,1);
		}
	} else{
		cm.消息(5,"任务物品不够!");
		}
		cm.对话结束();
	}
}




function 初始化() {
	等级 = cm.getPlayer().getLevel();
	var 基数 =1
	if(等级>100){
		基数 =2
	}
	if ( 等级 > 1 && 等级< 30){
		等级阶段=2
		获得经验=等级*2500*基数
		
	}else if(等级 >= 29 && 等级< 50){
		等级阶段=4
		获得经验=等级*12000*基数
	}else if(等级 >= 50 && 等级< 70){
		等级阶段=6
		获得经验=等级*22000*基数
	}else if(等级 >= 70 && 等级< 90){
		等级阶段=8
		获得经验=等级*50000*基数
	}else if(等级 >= 90 && 等级< 120){
		等级阶段=10
		获得经验=等级*150000*基数
	}else if(等级 >= 120 && 等级< 200){
		等级阶段=12
		获得经验=等级*450000*基数
	}else if(等级 >= 200 ){
		等级阶段=15
		获得经验=等级*700000*基数
	}
	获得金钱=等级*1000*基数
	}
	
function 重新给任务(传次数) {
	var 数量系数 = (传次数*28)+20
	if (传次数<=10){
		
	}else if (传次数<=12 || 传次数>=11){
	
	}else if (传次数<=15 || 传次数>=13){
		
	}
	
}
	